
# Seleccionamos el servicio que queremos desplegar
global:
  serviceSelector:
    testing: true
    minio: false
    mysql: false
    pgsql: false
    mongo: false
    redis: false
    rsync: false
  registry: "docker.io"  
  image: "arpovea/arpovea-tools"
  imageTag: "1.0"

# Valores para el deployment de testing:
testing:
  serviceName: "testing-service"
  replicas: 1
  image:
    pullPolicy: IfNotPresent
  resources:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "200m"
      memory: "256Mi"

# Valores para el cronjob de backup de minio
minio:
  endpoint: http://minio.minio:9000
  existingSecret: ""
  user: "defaultUser"
  password: "defaultPassword"
  serviceName: miniodump
  reqMemory: 256Mi
  reqCpu: 200m
  pvcBackupName: backup
  cronTime: "0 3 * * *"
  pathBackup: /miniodump
  pathCompress: s3minio
  deleteOldBackups: false
  maxBackupDays: 7

# Valores para el cronjob de backup de mysql
mysql:
  serviceName: mysqldump
  reqMemory: 100Mi
  reqCpu: 100m
  pvcBackupName: backups
  cronTime: "*/5 * * * *"
  allDatabases: false
  backupDatabases: "basededatos1 basededatos2 sampledb"
  backupStorage: "exampleapp1"
  dbHost: "mysql"
  dbUser: "root"
  dbPass: "xxxxxxxxxxx"
  deleteOldBackups: false
  maxBackupDays: 7

# Valores para el cronjob de backup de mongo
mongo:
  serviceName: mongodump
  reqMemory: 100Mi
  reqCpu: 100m
  pvcBackupName: backups
  cronTime: "*/5 * * * *"
  allDatabases: false
  backupDatabases: "basededatos1 basededatos2 sampledb"
  backupStorage: "exampleapp1"
  dbHost: "mongodb"
  dbUser: "admin"
  dbPass: "xxxxxxxxxxx"
  deleteOldBackups: false
  maxBackupDays: 7

# Valores para el cronjob de backup de pgsql
pgsql:
  serviceName: pgdump
  reqMemory: 100Mi
  reqCpu: 100m
  pvcBackupName: backups
  cronTime: "*/5 * * * *"
  backupDatabases: "basededatos1 basededatos2 sampledb"
  backupStorage: "exampleapp1"
  dbHost: "postgresql"
  dbUser: "root"
  dbPass: "xxxxxxxxxxx"
  deleteOldBackups: false
  maxBackupDays: 7

# Valores para el cronjob de backup de redis
redis:
  serviceName: redisdump
  reqMemory: 100Mi
  reqCpu: 100m
  pvcBackupName: "backups"
  cronTime: "*/5 * * * *"
  backupStorage: "exampleapp"
  dbHost: "redis"
  dbUser: "root"
  dbPass: "xxxxxxxxxxx"
  dbPort: 6379
  waitSaveRdb: 30
  deleteOldBackups: true
  maxBackupDays: 7

# Valores para el cronjob de backup de rsync
rsync:
  serviceName: rsyncdump
  reqMemory: 100Mi
  reqCpu: 100m
  pvcBackupName: "backups"
  pvcOriginName: "pvc-origin"
  cronTime: "*/5 * * * *"
  backupStorage: "exampleapp1"
  deleteOldBackups: false
  maxBackupDays: 7

# Permite habilitar la opci√≥n para crear un buildConfig junto a su imageStream para entornos OpenShift
createBuildConfig: false

imageStream:
  name: "arpovea-tools"
  pullPolicy: IfNotPresent

buildConfig:
  outputImageStreamTag: "arpovea-tools:1.0"
  sourceGitUri: "https://github.com/mi-usuario/mi-repo.git"
  sourceGitRef: "master"
  sourceContextDir: "/"
  dockerfilePath: "Dockerfile"
